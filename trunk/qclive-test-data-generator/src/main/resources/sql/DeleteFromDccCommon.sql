declare myuser varchar2(50);
begin

select user into myuser from dual;
if NOT (myuser like '%TEST%') then
    goto theEnd;
end if;
DELETE FROM BIOSPECIMEN_NCBI_TRACE;
DELETE FROM BCR_BIOSPECIMEN_TO_ARCHIVE;
DELETE FROM BIOSPECIMEN_TO_FILE;
DELETE FROM DATA_VISIBILITY;
DELETE FROM DATA_TYPE_TO_PLATFORM;
DELETE FROM TISSUE_TO_DISEASE;
DELETE FROM TSS_TO_DISEASE;
DELETE FROM FILE_TO_ARCHIVE;
DELETE FROM LOG_TO_ARCHIVES;
DELETE FROM LOG_TO_FILES;
DELETE FROM PROCESS_LOG;
DELETE FROM PI_INFO;
DELETE FROM CENTER_EMAIL;
DELETE FROM control_to_disease;
DELETE FROM control;
DELETE FROM shipped_biospecimen_element;
DELETE FROM shipped_biospec_bcr_archive;
DELETE FROM shipped_biospecimen_file;
DELETE FROM shipped_biospecimen_element;
DELETE FROM shipped_biospecimen;
DELETE FROM ARCHIVE_INFO;
DELETE FROM ARCHIVE_TYPE;
DELETE FROM BIOSPECIMEN_BARCODE;
DELETE FROM TRACE_INFO;
DELETE FROM DATA_LEVEL;
DELETE FROM ANNOTATION;
DELETE FROM ANNOTATION_CATEGORY_ITEM_TYPE;
DELETE FROM ANNOTATION_ITEM;
DELETE FROM ANNOTATION_CATEGORY;
DELETE FROM ANNOTATION_CLASSIFICATION;
DELETE FROM ANNOTATION_NOTE;
DELETE FROM ANNOTATION_ITEM_TYPE;
DELETE FROM BARCODE_HISTORY;
DELETE FROM PARTICIPANT_UUID_FILE;
DELETE FROM UUID CASCADE;
DELETE FROM file_to_collection;
DELETE FROM file_collection;
DELETE FROM FILE_INFO;
DELETE FROM uuid_hierarchy;
DELETE FROM uuid_item_type;
DELETE FROM CENTER_TO_BCR_CENTER;
DELETE FROM GENERATION_METHOD CASCADE;
DELETE FROM BATCH_NUMBER_ASSIGNMENT;
DELETE FROM DISEASE;
DELETE FROM PLATFORM;
DELETE FROM DATA_TYPE;
DELETE FROM TISSUE_SOURCE_SITE;
DELETE FROM CENTER;
DELETE FROM CENTER_TYPE CASCADE;
DELETE FROM TISSUE;
DELETE FROM HUGO_GENE;
DELETE FROM PORTION_ANALYTE;
DELETE FROM PROJECT;
DELETE FROM SAMPLE_TYPE;
DELETE FROM VISIBILITY;
DELETE FROM SAMPLE_LEVEL_COUNT;
DELETE FROM LATEST_SAMPLES_RECEIVED_BY_DCC;
DELETE FROM SAMPLE_SUMMARY_REPORT_DETAIL;
DELETE FROM SAMPLES_SENT_BY_BCR;
DELETE FROM shipped_item_type;
DELETE FROM shipped_element_type;
DELETE FROM chromosome;
DELETE FROM control_type;
DELETE FROM vcf_header_definition;
DELETE FROM TRANSACTION_ERROR;
DELETE FROM TRANSACTION_LOG_RECORD;
DELETE FROM TRANSACTION_LOG;
DELETE FROM GROUP_MEMBERS;
DELETE FROM GROUP_AUTHORITIES;
DELETE FROM GROUPS;
DELETE FROM USERS;

COMMIT;
goto normalEnd;
<<normalEnd>>
 DBMS_OUTPUT.PUT_LINE('deletes completed.'); 
 goto theExit;
<<theEnd>>
DBMS_OUTPUT.PUT_LINE('not in a test schema.');
goto theExit;
<<theExit>>
DBMS_OUTPUT.PUT_LINE('exiting.');
end;
/
purge recyclebin;