<?xml version="1.0" encoding="iso-8859-1"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Exporting Pure JavaScript Charts </title>
<link rel="stylesheet" href="../css/Style.css" type="text/css" />
<script type="text/javascript" src="../assets/prettify/prettify.js"></script>
<link rel="stylesheet" type="text/css" href="../assets/prettify/prettify.css" />
<script type="text/javascript" src="../assets/ui/js/jquery-1.4.2.min.js" ></script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }

a.whtbtnhide, a.whtbtnshow, a.whtbtnhidenav , a.whtbtnshownav { border-bottom:none !important; }
-->
</style>
<script type="text/javascript" language="javascript1.2" src="../assets/ui/js/whmsg.js"></script>
<script type="text/javascript" language="javascript" src="../assets/ui/js/whver.js"></script>
<script type="text/javascript" language="javascript1.2" src="../assets/ui/js/whproxy.js"></script>
<script type="text/javascript" language="javascript1.2" src="../assets/ui/js/whutils.js"></script>
<script type="text/javascript" language="javascript1.2" src="../assets/ui/js/whlang.js"></script>
<script type="text/javascript" language="javascript1.2" src="../assets/ui/js/whtopic.js"></script>
<script type="text/javascript" src="../assets/ui/js/lib.js"></script>
</head>

<body>
<!-- breadcrumb starts here -->
<div id="breadcrumb"></div>
<script type="text/javascript">
	document.write( addFCBreadcrumb( [ "Home|../Introduction/Overview.html", "Exporting as Image/PDF|ECOverview.html", "Exporting pure JavaScript charts" ] ) );
</script>
<!-- breadcrumb ends here -->


<table width="98%" border="0" cellspacing="0" cellpadding="3" align="center">
  <tr> 
    <td class="pageHeader">Exporting Pure JavaScript Charts </td>
  </tr>
  <tr> 
    <td valign="top" class="text"><p>Pure JavaScript charts also provide support for exporting to JPEG, PNG, PDF, SVG formats. Let's see how we can implement this feature.</p></td></tr>
    <tr>
    <td class="header">Enabling Export</td>
    </tr>
    <tr>
    <td class="text">
    <p>Similar to FusionCharts Flash-based charts, the JavaScript chart's export feature can be enabled by specifying the <span class="codeInline">exportEnabled="1"</span> of the <span class="codeInline">&lt;chart&gt;</span> XML element or <span class="codeInline">exportEnabled:&quot;1&quot;</span> in JSON.</p>
    <p>The following sample data enables the exporting feature of FusionCharts (both Flash and JavaScript charts alike) using the default settings.</p>
<div class="container">
    <ul class="tabs">
       <li><a href="#tab1">XML</a></li>
       <li><a href="#tab2">JSON</a></li>
    </ul>
    <div class="tab_container">
       <div id="tab1" class="tab_content">
       <pre class="prettyprint code_container">&lt;chart <strong>exportEnabled='1'</strong> caption='Weekly Sales Summary'&nbsp;xAxisName='Week' yAxisName='Sales' numberPrefix='$'<strong> </strong>&gt; <br />&nbsp; &nbsp; &lt;set label='Week 1' value='14400' /&gt; <br />&nbsp; &nbsp; &lt;set label='Week 2' value='19600' /&gt; <br />&nbsp; &nbsp; &lt;set label='Week 3' value='24000' /&gt; <br />&nbsp; &nbsp; &lt;set label='Week 4' value='15700' /&gt; <br />&lt;/chart&gt;</pre>
       
       </div>
       <div id="tab2" class="tab_content">
         <pre id="pre-datajson" class="prettyprint code_container">{<br />&nbsp; &quot;chart&quot;:{
<strong>    &quot;exportenabled&quot;:&quot;1&quot;</strong>,<br />&nbsp; &nbsp; &quot;caption&quot;:&quot;Weekly Sales Summary&quot;,<br />&nbsp; &nbsp; &quot;xaxisname&quot;:&quot;Week&quot;,<br />&nbsp; &nbsp; &quot;yaxisname&quot;:&quot;Sales&quot;,<br />&nbsp; &nbsp; &quot;numberprefix&quot;:&quot;$&quot;<br />&nbsp; },<br />&nbsp; &quot;data&quot;:[{<br />&nbsp; &nbsp; &nbsp; &quot;label&quot;:&quot;Week 1&quot;,<br />&nbsp; &nbsp; &nbsp; &quot;value&quot;:&quot;14400&quot;<br />&nbsp; &nbsp; },<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &quot;label&quot;:&quot;Week 2&quot;,<br />&nbsp; &nbsp; &nbsp; &quot;value&quot;:&quot;19600&quot;<br />&nbsp; &nbsp; },<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &quot;label&quot;:&quot;Week 3&quot;,<br />&nbsp; &nbsp; &nbsp; &quot;value&quot;:&quot;24000&quot;<br />&nbsp; &nbsp; },<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &quot;label&quot;:&quot;Week 4&quot;,<br />&nbsp; &nbsp; &nbsp; &quot;value&quot;:&quot;15700&quot;<br />&nbsp; &nbsp; }<br />&nbsp; ]<br />}</pre>
       </div></div></div>
</td>
    </tr>
    <tr>
    <td class="text"><P>Once the<span class="codeInline"> exportEnabled</span> attribute is set, a &quot;Download&quot; button will be displayed on the top right corner of your chart. This button, when clicked, will provide you a list of various export file formats thereby enabling you to  download an image or PDF version of the chart.</P>
    <p>The following image shows how the list would appear when the above data is used in a column 2D chart.</p>
    <p><img src="Images/JSChart_Export.jpg" class="imageBorder"/></p>
    <p>See it <a href="../../Code/ExportChartSamples/PureJavaScript/weekly-sales-js-export.html" target="_blank">live!</a></p>
    <p class="highlightBlock">During export of the pure JavaScript charts, the chart data is sent to external servers for
processing and converting to image. User must have an active internet connection for this feature to
work. In case you want to process the exported data on an external server, you may setup the chart
to send the data your own server. The details of how to do the same has been explained later on this
page. </p>
<p>There is a possibility that the exported image/PDF appears slightly visually different with respect to
colors and effects from your original chart that is being exported. </p>
<p class="highlightBlock">FusionCharts Flash charts do not have a button to export the chart. Instead, upon right-
clicking the Flash charts, users can select exporting options using a context-menu.</p></td>
    </tr>
    <tr>
    <td class="header">Customizing the Export Feature</td>
    </tr>
    <tr>
    <td class="text"><p>The export features of the JavaScript charts presently have limited customizability when
compared to the Flash FusionCharts. This is primarily owing to certain <a href="ECOverview.html#limitation">limitations</a> of the present JavaScript export feature.</p>
<p>You can hide the "Download" button on the chart using the <span class="codeInline">exportShowMenuItem="0"</span>.
This will hide the export button. But, you would still be able to export the chart using its <a href="javascript-ref/ECJavaScript.html">JavaScript
API similar to FusionCharts Flash charts</a>. There are other settings that you can configure using <span class="codeInline">_overrideJSChartConfiguration</span> function provided by the chart. This function takes an Object as parameter. You can pass the following export settings through this function:</p>
<ul>
  <li><span class="codeInline">buttons </span>: Configuration options for the buttons associated with the exporting module.  	&nbsp; For more information please read <a href="http://www.highcharts.com/ref/#exporting" target="_blank">High Charts Options Reference (online)</a> </li>
  <li><span class="codeInline">enabled </span>: Whether to enable the exporting module. Defaults to true</li>
  <li><span class="codeInline">filename</span> : The filename, without extension, to use for the exported chart <code></code></li>
  <li><span class="codeInline">type</span> : Default MIME type for exporting file format. Possible values are <span class="codeInline">image/png</span>, <span class="codeInline">image/jpeg</span>, <span class="codeInline">application/pdf </span>and <span class="codeInline">image/svg+xml</span>. Defaults value is  <span class="codeInline">image/png</span></li>
  <li><span class="codeInline">url</span> : The URL for the server module converting the SVG string to an image format. By default, this points to Highcharts Software's free web service which is <a href="http://export.highcharts.com" target="_blank">http://export.highcharts.com</a></li>
  <li><span class="codeInline">width</span> : The pixel width of the exported file. Defaults value is 800.</li>
  </ul>
    <p class="highlightBlock">Please go through the <a href="http://www.highcharts.com/ref/#exporting" target="_blank">High Charts Options Reference (online)</a> for detailed information on each of the above settings.</p>
    <p>The following code shows how you can configure the settings:</p>
      <pre class="prettyprint code_container">// Check whether it is an js chart or not
if( typeof chartObj1._overrideJSChartConfiguration  === 'function'){
  // pass exporting configuration module 
  chartObj1.<strong>_overrideJSChartConfiguration</strong>({
  &nbsp; exporting:{
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type: 'application/pdf', <span class="name">
         filename</span> : 'mychart'
 &nbsp;   }
  });
}</pre>
      <p>In the above code:</p>
      <ul>
        <li> we are having a chart with reference stored in <span class="codeInline">chartObj1</span></li>
        <li>We call <span class="codeInline">_overrideJSChartConfiguration</span> and pass type and filename settings as properties of <span class="codeInline">exporting </span>object</li>
        <li>The <span class="codeInline">exporting </span>object is passed as a property of the object which is passed as a parameter of <span class="codeInline">_overrideJSChartConfiguration</span> function</li>
      </ul>
    </td>
  </tr>
  <tr><td height="25"></td>
  </tr>
    <tr><td class="header">Customizing the Export Feature to Process Data on Your Own Server</td>
    <tr>
    <tr>
    <td class="text">
    <p>If you want to set up the export service on your own server, download <span class="codeInline">index.php</span> provided by <a href="http://www.highcharts.com/download" target="_blank">Highcharts download pack</a>. This file helps you bypass export data to the export modules ( which are a set of Java runtime and Java library files ). You need to download  and setup <span class="codeInline">Download Batik from <a href="http://xmlgraphics.apache.org/batik/#download" target="_blank">batik-rasterizer.jar</a> </span>and the entire <span class="codeInline">lib</span> directory to a location on your web server. </p>
    <p>Additionally, and most importantly, you need to set the path of the <span class="codeInline">index.php</span> as the export handler through the chart's configuration. The following code shows how to set this URL using <span class="codeInline"> _overrideJSChartConfiguration</span> function:</p>
    <pre class="prettyprint code_container">// Check whether it is an javascript chart or not
if( typeof chartObj1._overrideJSChartConfiguration  === 'function'){
  // pass exporting configuration module 
  chartObj1._overrideJSChartConfiguration({
  &nbsp; exporting:{
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>url: '../export/JSChartExport/index.php&nbsp;</strong>  //path of HC exporter
 &nbsp;   }
  });
}</pre>
    </td>
    </tr>
    <tr>
    <td class="text">
      <p>Checklist while you setup: </p>
      <ol>
        <li> Make sure that PHP and Java is installed on your server</li>
        <li>Upload the <span class="codeInline">index.php</span> file to your server</li>
        <li> In your FTP program, create directory called <span class="codeInline">temp</span> in the same directory as <span class="codeInline">index.php</span> and chmod this new directory to 777 (Linux/Unix servers only)</li>
        <li>Download Batik from <a href="http://xmlgraphics.apache.org/batik/#download" target="_blank">http://xmlgraphics.apache.org/batik/#download</a>. Find the binary distribution for your version of JRE 5</li>
        <li>Upload <span class="codeInline">batik-rasterizer.jar</span> and the entire <span class="codeInline">lib </span>directory to a location on your web server</li>
        <li>In the options in the top of the index.php file, set the path to <span class="codeInline">batik-rasterier.jar</span></li>
        <li> In your <span class="codeInline">_overrideJSChartConfiguration</span>, set the <span class="codeInline">exporting.url</span> option to match the index.php file location</li>
      </ol>
      <p class="highlightBlock">For detailed information on setting up the export modules please refer to <a href="http://www.highcharts.com/documentation/how-to-use" target="_blank">http://www.highcharts.com/documentation/how-to-use</a>.</p>
    </td>
  </tr>
    <tr>
    <td class="text"></td>
    </tr>
</table>
<!-- footer links starts-->
<div id="fcfooter"></div>
<script type="text/javascript">
	document.getElementById("fcfooter").innerHTML =  addFCFooter("JavaScript Reference - Initiating from JavaScript|javascript-ref/ECJavaScript.html","Export Component Debug mode|ECReferenceDebugJS.html");
</script>
<!-- footer links ends -->
<script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--

	highlightSearch();

//-->
//]]></script>
</body>
</html>
