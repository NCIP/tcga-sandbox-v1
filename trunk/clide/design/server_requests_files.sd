#![<Server requests files from client>]
server:HttpServer[p]
client:HttpClient
server_validator:Md5Validator

server:client.Hello.  You there?
client:server.Who is this?
server:client.Here is my private key
client:server.Here is my private key
server:client.I recognize you Center X
client:server.I recognize your private key
server:client.Has the validator run?
[c:alt Validator has not run]
    client:server.No
    server:client.Alert humans that validator is not running.
    server:client.COMMUNICATION TERMINATED
    --[else]
    client:server.Yes
[/c]
client:server.Yes
server:client.Was the validator successful?
[c:alt Validator was not successful]
    client:server.No
    server:client.Alert humans that archives are not passing validation
    server:client.COMMUNICATION TERMINATED
    --[else]
    client:server.Yes
[/c]
server:client.Need files
client:server.File list
server:client.Start TLS session
[c:loop while file queue != {}]
    server:client.Get file Y
    client:server.File Y
    server:server_validator.Is file corrupt?
    [c:alt File is corrupt]
        server_validator:server.Yes it is corrupt
        server:client.Queue File Y for next session
        client:client.Queue File
    --[else]
    server_validator:server.No it is not corrupt
    [/c]
[/c]
server:client.I'm done
client:server.Later!


